# Forbidden Patterns for QA Hard Validation
# 禁用模式列表 - 用于 qa_hard.py 质量检查
#
# 格式：每行一个正则表达式模式
# 注释：以 # 开头的行会被忽略
# 空行会被忽略
#
# 严重程度说明：
# [CRITICAL] - 致命错误，必须修复
# [HIGH]     - 高风险问题，强烈建议修复
# [MEDIUM]   - 中等风险，建议修复

# ============================================================================
# [CRITICAL] 禁止残留中文（CJK 统一表意文字）
# ============================================================================
# 适用场景：翻译为非中文语言（如 en-US, ru-RU, ja-JP 等）时
# 说明：翻译文本中不应包含中文字符（除非是专有名词且已确认）
[\u4e00-\u9fff]

# ============================================================================
# [CRITICAL] 禁止写坏的 Token 格式
# ============================================================================
# Token 应该是完整的闭合形式：⟦PH_1⟧ 或 ⟦TAG_1⟧
# 注意：token_mismatch 检查已经可以发现未闭合的 token
# 这里只检测明显的格式错误

# 检测只有左括号没有数字的情况（⟦PH_ 后面不是数字）
⟦PH_[^0-9]
⟦TAG_[^0-9]

# ============================================================================
# [HIGH] 高风险：过多连续空格
# ============================================================================
# UI 文本中常见的排版问题
# 说明：三个或更多连续空格通常是复制粘贴错误
\s{4,}

# ============================================================================
# [MEDIUM] 占位符文本（未完成翻译的标记）
# ============================================================================
# 以下是常见的"待翻译"标记，不应出现在最终文本中

# 中文占位符标记
\[待翻译\]
\[TBD\]
\[TODO\]
TODO
FIXME
\[机器翻译\]
\[MT\]

# 英文占位符标记
\[To be translated\]
\[Translation needed\]
TBD
PLACEHOLDER

# ============================================================================
# [CRITICAL] 编码问题字符
# ============================================================================
# 这些字符通常表示编码错误或数据损坏

# 问号（可能是乱码）- 但要小心合法的问号
�

# 零宽字符（可能是复制粘贴残留）
\u200b
\u200c
\u200d
\ufeff

# ============================================================================
# 使用说明
# ============================================================================
# 1. 规则从上到下按顺序匹配
# 2. 使用 Python re 模块的正则表达式语法
# 3. 匹配时区分大小写
# 4. 如需添加例外，在 qa_hard.py 中实现白名单逻辑
# 5. 定期审查和更新此文件，根据实际问题调整规则
#
# 示例：如何添加新规则
# --------------------------------------------------
# # [严重程度] 规则描述
# 正则表达式模式
#
# # [HIGH] 禁止感叹号连用（UI 规范）
# !{2,}
# ============================================================================
